[gd_scene load_steps=24 format=2]

[ext_resource path="res://scenes/player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://scenes/world/Lava.tscn" type="PackedScene" id=2]
[ext_resource path="res://scenes/world/Obstacle.tscn" type="PackedScene" id=3]
[ext_resource path="res://texture/apple.glb" type="PackedScene" id=4]
[ext_resource path="res://scenes/world/Ground.tscn" type="PackedScene" id=5]
[ext_resource path="res://scenes/world/ground_grass.tscn" type="PackedScene" id=6]
[ext_resource path="res://scenes/world/HUD.tscn" type="PackedScene" id=7]
[ext_resource path="res://texture/return.png" type="Texture" id=8]
[ext_resource path="res://script/Lava.gd" type="Script" id=9]
[ext_resource path="res://script/CameraData.gd" type="Script" id=10]
[ext_resource path="res://script/apple.gd" type="Script" id=11]
[ext_resource path="res://script/camera.gd" type="Script" id=12]
[ext_resource path="res://script/HUD.gd" type="Script" id=13]
[ext_resource path="res://scenes/world/World.gd" type="Script" id=14]
[ext_resource path="res://scenes/world/Finish.tscn" type="PackedScene" id=15]
[ext_resource path="res://scenes/world/Line.tscn" type="PackedScene" id=16]
[ext_resource path="res://scenes/world/MiestoNaStatie.tscn" type="PackedScene" id=17]

[sub_resource type="BoxShape" id=5]
extents = Vector3( 50, 0.5, 50 )

[sub_resource type="Resource" id=6]
script = ExtResource( 10 )
target_offset = Vector3( 0, 0, 0 )
rotation = Vector3( 0, 0, 0 )
pitch_limit = Vector2( -45, 80 )
anchor_offset = Vector3( 0, 0, 0 )
look_target = Vector3( 0, 0, 0 )

[sub_resource type="BoxShape" id=9]
extents = Vector3( 1, 0.1, 1 )

[sub_resource type="SphereShape" id=8]
radius = 0.137671

[sub_resource type="ProceduralSky" id=10]
sky_top_color = Color( 0.713726, 0.733333, 0.0980392, 1 )
sky_horizon_color = Color( 0.705882, 0.396078, 0.0313726, 1 )
ground_bottom_color = Color( 0.34902, 0.372549, 0.0784314, 1 )
sun_color = Color( 0.807843, 0.635294, 0.113725, 1 )
sun_latitude = 121.82
sun_longitude = 32.73
sun_angle_min = 6.0
sun_angle_max = 136.36
sun_energy = 12.64

[sub_resource type="Environment" id=11]
background_mode = 2
background_sky = SubResource( 10 )
background_color = Color( 0.47451, 0.133333, 0.133333, 1 )
ambient_light_color = Color( 0.921569, 0.921569, 0.921569, 1 )
ambient_light_energy = 3.42
ambient_light_sky_contribution = 0.76
ssao_enabled = true
dof_blur_near_enabled = true
glow_intensity = 1.25
glow_strength = 1.08
glow_bloom = 0.06
adjustment_enabled = true
adjustment_brightness = 0.78
adjustment_contrast = 1.57
adjustment_saturation = 1.36

[node name="World" type="Spatial"]
script = ExtResource( 14 )

[node name="Ground" parent="." instance=ExtResource( 5 )]
transform = Transform( 50, 0, 0, 0, 0, 0, 0, 0, 50, 0, 0, 0 )
visible = false

[node name="CollisionShape2" type="CollisionShape" parent="Ground"]
shape = SubResource( 5 )

[node name="Obstacles" type="Spatial" parent="."]

[node name="Obstacle" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 0.262166, 0, -1.1848, 0, 1.908, 0, 14.1026, 0, 0.0220253, 25.7654, 1, 6.02629 )

[node name="Obstacle3" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 5.103, 0, 0.00164059, 0, 1.908, 0, -0.00837162, 0, 0.999999, 19.3282, 1, -8.37929 )

[node name="Obstacle8" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( -0.0537531, 0, -1.18499, 0, 1.908, 0, 13.6879, 0, -0.00465353, 14.2882, 1, 6.10028 )

[node name="Obstacle2" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( -2.25288e-07, 0, 1.185, 0, 1.908, 0, -5.154, 0, -5.1798e-08, 26.0289, 1, 25.0128 )

[node name="Obstacle4" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 26.0188, 0, 0.0281048, 0, 1.9083, 0, -0.458235, 0, 1.18465, 0.551, 1, 30.124 )

[node name="Obstacle5" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 5.15342, 0, 0.0178275, 0, 1.908, 0, -0.0775381, 0, 1.18487, 8.64563, 1, 18.7238 )

[node name="Obstacle6" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( -0.100038, 0, 1.18499, 0, 1.908, 0, -20.1108, 0, -0.00589451, -24.7381, 1, 11.307 )

[node name="Obstacle7" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 6.707, 0, 0, 0, 1.908, 0, 0, 0, 1.185, -3.03091, 1, 18.8235 )

[node name="Obstacle9" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( -6.33597e-07, 0, 1.185, 0, 1.908, 0, -14.495, 0, -5.1798e-08, -10.525, 1, 5.50065 )

[node name="Obstacle10" parent="Obstacles" instance=ExtResource( 3 )]
transform = Transform( 7.837, 0, 0, 0, 1.908, 0, 0, 0, 1, -18.6715, 1, -9.78278 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( -0.99656, 0.0163573, -0.0812454, 0.0115576, 0.998179, 0.0591992, 0.0820658, 0.0580565, -0.994934, 18.3456, 2.8654, -6.1941 )
script = ExtResource( 12 )
target = NodePath("../Player")
setup = SubResource( 6 )

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( 0.99292, 0, 0.118785, 0, 1, 0, -0.118785, 0, 0.99292, 17.925, 0.410998, -3.05684 )
camera = NodePath("../Camera")

[node name="ground_grass" parent="." instance=ExtResource( 6 )]
transform = Transform( 100, 0, 0, 0, 0, 0, 0, 0, 100, 0, 0, 0 )

[node name="CollisionShape" type="CollisionShape" parent="ground_grass"]
shape = SubResource( 9 )

[node name="HUD" parent="." instance=ExtResource( 7 )]
rect_pivot_offset = Vector2( -283, -295 )
script = ExtResource( 13 )

[node name="apple2" parent="HUD" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -19.4857, 1, 26.877 )
script = ExtResource( 11 )

[node name="CollisionShape" type="CollisionShape" parent="HUD/apple2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0682764, 0 )
shape = SubResource( 8 )

[node name="apple3" parent="HUD" instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 18.6049, 0.906007, 7.70535 )
script = ExtResource( 11 )

[node name="CollisionShape" type="CollisionShape" parent="HUD/apple3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0682764, 0 )
shape = SubResource( 8 )

[node name="Lava" parent="." instance=ExtResource( 2 )]
transform = Transform( 0.00362857, 0, -11.4883, 0, 1.0815, 0, 0.778655, 0, 0.0535356, 26.0785, 0.114078, 4.73387 )
script = ExtResource( 9 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 11 )

[node name="Control" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0

[node name="Button" type="Button" parent="Control"]
margin_right = 112.0
margin_bottom = 106.0
icon = ExtResource( 8 )

[node name="Lava2" parent="." instance=ExtResource( 2 )]
transform = Transform( -3.40365e-08, 0, 11.4884, 0, 1.0815, 0, -0.778664, 0, -5.02174e-07, 14.5266, 0.114078, 18.1673 )
script = ExtResource( 9 )

[node name="Lava3" parent="." instance=ExtResource( 2 )]
transform = Transform( -4.02199e-08, 0, 13.5755, 0, 1.0815, 0, -0.778664, 0, -5.02175e-07, -23.6144, 0.114078, 18.7582 )
script = ExtResource( 9 )

[node name="Lava4" parent="." instance=ExtResource( 2 )]
transform = Transform( 0.778664, 0, 0, 0, 1.0815, 0, 0, 0, 11.4884, 3.77475, 0.114078, 18.2624 )
script = ExtResource( 9 )

[node name="Area" parent="." instance=ExtResource( 15 )]
transform = Transform( 8.05634, 0, 0.0234672, 0, 1, 0, -0.0294868, 0, 0.999957, -18.3975, 1.08161, -0.895947 )

[node name="Area2" parent="." instance=ExtResource( 16 )]
transform = Transform( 6.15625, 0, 0, 0, 1, 0, 0, 0, 1.22668, -17.7647, 0, 0 )

[node name="MeshInstance" parent="." instance=ExtResource( 17 )]
transform = Transform( 1, 0, 0, 0, 0.0607418, 0, 0, 0, 1, -18.0931, 0, -4.98362 )

[connection signal="body_entered" from="HUD/apple2" to="HUD/apple2" method="_on_apple_body_entered"]
[connection signal="pocet" from="HUD/apple2" to="HUD" method="_on_apple_pocet"]
[connection signal="body_entered" from="HUD/apple3" to="HUD/apple3" method="_on_apple_body_entered"]
[connection signal="pocet" from="HUD/apple3" to="HUD" method="_on_apple_pocet"]
[connection signal="body_entered" from="Lava" to="Lava" method="_on_Lava_body_entered"]
[connection signal="pressed" from="Control/Button" to="." method="_on_Button_pressed"]
[connection signal="body_entered" from="Lava2" to="Lava2" method="_on_Lava_body_entered"]
[connection signal="body_entered" from="Lava3" to="Lava3" method="_on_Lava_body_entered"]
[connection signal="body_entered" from="Lava4" to="Lava4" method="_on_Lava_body_entered"]
[connection signal="body_entered" from="Area" to="Camera" method="_on_Area_body_entered"]

[editable path="HUD"]
